{"openapi":"3.0.2","info":{"title":"IOOS xpublish","description":"Hacking on xpublish during the IOOS Code Sprint","version":"0.1.0"},"paths":{"/versions":{"get":{"summary":"Get Versions","operationId":"get_versions_versions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/datasets":{"get":{"tags":["info"],"summary":"Get Dataset Collection Keys","operationId":"get_dataset_collection_keys_datasets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/datasets/{dataset_id}/":{"get":{"tags":["info"],"summary":"Html Representation","description":"Returns a HTML representation of the dataset.","operationId":"html_representation_datasets__dataset_id___get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/keys":{"get":{"tags":["info"],"summary":"List Keys","operationId":"list_keys_datasets__dataset_id__keys_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/dict":{"get":{"tags":["info"],"summary":"To Dict","operationId":"to_dict_datasets__dataset_id__dict_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/info":{"get":{"tags":["info"],"summary":"Info","description":"Dataset schema (close to the NCO-JSON schema).","operationId":"info_datasets__dataset_id__info_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/edr/position":{"get":{"tags":["edr"],"summary":"Position query","description":"Return position data based on WKT Point(lon lat) coordinate.\n\nExtra selecting/slicing parameters can be provided as additional query strings.","operationId":"get_position_datasets__dataset_id__edr_position_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"},{"description":"Well Known Text coordinates","required":true,"schema":{"title":"Point in WKT format","type":"string","description":"Well Known Text coordinates"},"name":"coords","in":"query"},{"description":"Height or depth of query","required":false,"schema":{"title":"Z axis","type":"string","description":"Height or depth of query"},"name":"z","in":"query"},{"description":"Query by a single ISO time or a range of ISO times. To query by a range, split the times with a slash","required":false,"schema":{"title":"Datetime or datetime range","type":"string","description":"Query by a single ISO time or a range of ISO times. To query by a range, split the times with a slash"},"name":"datetime","in":"query"},{"description":"xarray variables to query","required":false,"schema":{"title":"Parameter-Name","type":"string","description":"xarray variables to query"},"name":"parameter-name","in":"query"},{"description":"CRS is not yet implemented","required":false,"deprecated":true,"schema":{"title":"Crs","type":"string","description":"CRS is not yet implemented"},"name":"crs","in":"query"},{"description":"Data is returned as a CoverageJSON by default, but NetCDF is supported with `f=nc`, or CSV with `csv`","required":false,"schema":{"title":"Response format","type":"string","description":"Data is returned as a CoverageJSON by default, but NetCDF is supported with `f=nc`, or CSV with `csv`"},"name":"f","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/.zmetadata":{"get":{"tags":["datatree"],"summary":"Get Tree Metadata","operationId":"get_tree_metadata_datasets__dataset_id__tree__zmetadata_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/.zgroup":{"get":{"tags":["datatree"],"summary":"Get Top Zgroup","operationId":"get_top_zgroup_datasets__dataset_id__tree__zgroup_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/.zattrs":{"get":{"tags":["datatree"],"summary":"Get Top Zattrs","operationId":"get_top_zattrs_datasets__dataset_id__tree__zattrs_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/{level}/.zgroup":{"get":{"tags":["datatree"],"summary":"Get Zgroup","operationId":"get_zgroup_datasets__dataset_id__tree__level___zgroup_get","parameters":[{"required":true,"schema":{"title":"Level","type":"integer"},"name":"level","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/{level}/{var_name}/.zattrs":{"get":{"tags":["datatree"],"summary":"Get Variable Zattrs","operationId":"get_variable_zattrs_datasets__dataset_id__tree__level___var_name___zattrs_get","parameters":[{"required":true,"schema":{"title":"Level","type":"integer"},"name":"level","in":"path"},{"required":true,"schema":{"title":"Var Name","type":"string"},"name":"var_name","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/{level}/{var_name}/.zarray":{"get":{"tags":["datatree"],"summary":"Get Variable Zarray","operationId":"get_variable_zarray_datasets__dataset_id__tree__level___var_name___zarray_get","parameters":[{"required":true,"schema":{"title":"Level","type":"integer"},"name":"level","in":"path"},{"required":true,"schema":{"title":"Var Name","type":"string"},"name":"var_name","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/tree/{level}/{var_name}/{chunk}":{"get":{"tags":["datatree"],"summary":"Get Variable Chunk","operationId":"get_variable_chunk_datasets__dataset_id__tree__level___var_name___chunk__get","parameters":[{"required":true,"schema":{"title":"Level","type":"integer"},"name":"level","in":"path"},{"required":true,"schema":{"title":"Var Name","type":"string"},"name":"var_name","in":"path"},{"required":true,"schema":{"title":"Chunk","type":"string"},"name":"chunk","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/image/":{"get":{"tags":["image"],"summary":"Get Image","operationId":"get_image_datasets__dataset_id__image__get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"},{"required":true,"schema":{"title":"Bbox","type":"string"},"name":"bbox","in":"query"},{"required":true,"schema":{"title":"Width","type":"integer"},"name":"width","in":"query"},{"required":true,"schema":{"title":"Height","type":"integer"},"name":"height","in":"query"},{"required":true,"schema":{"title":"Parameter","type":"string"},"name":"parameter","in":"query"},{"required":true,"schema":{"title":"Datetime","type":"string"},"name":"datetime","in":"query"},{"required":false,"schema":{"title":"Crs","type":"string"},"name":"crs","in":"query"},{"required":false,"schema":{"title":"Cmap","type":"string"},"name":"cmap","in":"query"}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/image/tile/{parameter}/{t}/{z}/{x}/{y}":{"get":{"tags":["image"],"summary":"Get Image Tile","operationId":"get_image_tile_datasets__dataset_id__image_tile__parameter___t___z___x___y__get","parameters":[{"required":true,"schema":{"title":"Parameter","type":"string"},"name":"parameter","in":"path"},{"required":true,"schema":{"title":"T","type":"string"},"name":"t","in":"path"},{"required":true,"schema":{"title":"Z","type":"integer"},"name":"z","in":"path"},{"required":true,"schema":{"title":"X","type":"integer"},"name":"x","in":"path"},{"required":true,"schema":{"title":"Y","type":"integer"},"name":"y","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"},{"required":false,"schema":{"title":"Size","type":"integer","default":256},"name":"size","in":"query"}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/zarr/.zmetadata":{"get":{"tags":["zarr"],"summary":"Get Zmetadata","operationId":"get_zmetadata_datasets__dataset_id__zarr__zmetadata_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/zarr/.zgroup":{"get":{"tags":["zarr"],"summary":"Get Zgroup","operationId":"get_zgroup_datasets__dataset_id__zarr__zgroup_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/zarr/.zattrs":{"get":{"tags":["zarr"],"summary":"Get Zattrs","operationId":"get_zattrs_datasets__dataset_id__zarr__zattrs_get","parameters":[{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datasets/{dataset_id}/zarr/{var}/{chunk}":{"get":{"tags":["zarr"],"summary":"Get Variable Chunk","description":"Get a zarr array chunk.\n\nThis will return cached responses when available.","operationId":"get_variable_chunk_datasets__dataset_id__zarr__var___chunk__get","parameters":[{"required":true,"schema":{"title":"Var","type":"string"},"name":"var","in":"path"},{"required":true,"schema":{"title":"Chunk","type":"string"},"name":"chunk","in":"path"},{"required":true,"schema":{"title":"Dataset Id","type":"string"},"name":"dataset_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}},"tags":[{"name":"info"},{"name":"edr","description":"\nOGC Environmental Data Retrieval API\n\nCurrently the position query is supported, which takes a single Well Known Text point.\n","externalDocs":{"description":"OGC EDR Reference","url":"https://ogcapi.ogc.org/edr/"}},{"name":"image","description":"WMS-like image generation"},{"name":"datatree","description":"\nDynamic generation of Zarr ndpyramid/Datatree for access from webmaps.\n\n- [carbonplan/maps](https://carbonplan.org/blog/maps-library-release)\n- [xpublish#92](https://github.com/xarray-contrib/xpublish/issues/92)\n"},{"name":"zarr","description":"\nZarr access to NetCDF datasets.\n\nLoad by using an fsspec mapper\n\n```python\nmapper = fsspec.get_mapper(\"/datasets/{dataset_id}/zarr/\")\nds = xr.open_zarr(mapper, consolidated=True)\n```\n"}]}